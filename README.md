# expense-bot

Telegram-–±–æ—Ç –¥–ª—è —É—á—ë—Ç–∞ –ª–∏—á–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤.
–ü–æ–∑–≤–æ–ª—è–µ—Ç –±—ã—Å—Ç—Ä–æ –¥–æ–±–∞–≤–ª—è—Ç—å —Ç—Ä–∞—Ç—ã –∏ —Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∑–∞ –¥–µ–Ω—å, –Ω–µ–¥–µ–ª—é, –º–µ—Å—è—Ü, –≥–æ–¥ –∏–ª–∏ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π –ø–µ—Ä–∏–æ–¥.

## –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ (!!!)

- –î–± –µ—â–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ (–ø–æ—ç—Ç–æ–º—É –∏ –µ—Å—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è src/db), –Ω–æ —ç—Ç–æ –Ω–∏–∫–∞–∫ –Ω–µ –º–µ—à–∞–µ—Ç —Ä–∞–±–æ—Ç–µ –±–æ—Ç–∞.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–æ–≤ —Å –∫–∞—Ç–µ–≥–æ—Ä–∏–µ–π –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:
  - –∑–∞ –≤—Å—ë –≤—Ä–µ–º—è
  - –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ N –¥–Ω–µ–π
  - –∑–∞ —Å–µ–≥–æ–¥–Ω—è
  - –∑–∞ —Ç–µ–∫—É—â—É—é –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—É—é –Ω–µ–¥–µ–ª—é
  - –∑–∞ —Ç–µ–∫—É—â–∏–π –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–π –º–µ—Å—è—Ü
  - –∑–∞ —Ç–µ–∫—É—â–∏–π –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–π –≥–æ–¥
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- –ü–æ–¥—Å—á—ë—Ç —Å—É–º–º –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- –ü—Ä–æ—Å—Ç–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (JSON)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö –≤–∞–ª—é—Ç
- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
- /help

---

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

- **/start** ‚Äî –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º
- **/add _—Å—É–º–º–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π_** ‚Äî –¥–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—Ö–æ–¥ (–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω)
- **/clear** ‚Äî —É–¥–∞–ª–∏—Ç—å –≤—Å–µ —Ä–∞—Å—Ö–æ–¥—ã
- **/settings** ‚Äî –ø–∞–Ω–µ–ª—å –Ω–∞—Å—Ç—Ä–æ–µ–∫ (—Å–º–µ–Ω–∞ –≤–∞–ª—é—Ç—ã –∏ –¥–Ω–µ–≤–Ω–æ–≥–æ –ª–∏–º–∏—Ç–∞)
- **/admin** ‚Äî –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
- **/help** ‚Äî –ø–µ—Ä–µ—á–µ–Ω—å –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥ (—Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –∏ –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º, —Ç–∞–∫ –∏ –≤ –∞–¥–º–∏–Ω—Å–∫–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ)

### üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤

- **/stats** ‚Äî –∑–∞ –≤—Å—ë –≤—Ä–µ–º—è
- **/stats _N_** ‚Äî –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ _N_ –¥–Ω–µ–π
- **/stats today** ‚Äî –∑–∞ —Å–µ–≥–æ–¥–Ω—è
- **/stats week** ‚Äî –∑–∞ —Ç–µ–∫—É—â—É—é –Ω–µ–¥–µ–ª—é
- **/stats month** ‚Äî –∑–∞ —Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü
- **/stats year** ‚Äî –∑–∞ —Ç–µ–∫—É—â–∏–π –≥–æ–¥

### üìù –ü—Ä–∏–º–µ—Ä—ã

    /add 250 –µ–¥–∞
    /add 120 —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –º–µ—Ç—Ä–æ
    /stats week
    /stats 7
    /clear

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.13+
- uv

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ (docker)

 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

```bash
git clone https://github.com/tcnrbqxtk/expense-bot.git
cd expense-bot
```

 2. –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª .env

```bash
BOT_TOKEN=your_telegram_bot_token
ENV=PROD/DEV
ADMIN_IDS=numeric_telegram_admin_ids,
DATA_FILE=data/expenses.json
```

 3. –°–¥–µ–ª–∞—Ç—å –∫–æ–ø–∏—é json-—Ñ–∞–π–ª–∞

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ–∑–¥–∞–π—Ç–µ –∫–æ–ø–∏—é expenses.json.example –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ data –∏ –Ω–∞–∑–æ–≤–∏—Ç–µ –µ—ë expenses.json

 4. Docker compose

```bash
docker compose up --build
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ (no docker)

 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

```bash
git clone https://github.com/tcnrbqxtk/expense-bot.git
cd expense-bot
```

 2. –°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é —Å—Ä–µ–¥—É –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
uv venv
source .venv/bin/activate   # Linux / macOS
.venv\Scripts\activate     # Windows
uv sync
```

 3. –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª .env

```bash
BOT_TOKEN=your_telegram_bot_token
ENV=PROD/DEV
ADMIN_IDS=numeric_telegram_admin_ids,
DATA_FILE=data/expenses.json
```

 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞

```bash
uv run python bot.py
```
